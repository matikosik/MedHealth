<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="images/logoFormWhite.png">
    <title>Doctors</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-3.3.1.js"></script>
    <!--<link rel="stylesheet" type="text/css" href="../css/materialize.css"> -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="js/materialize.js"></script>
    <script type="text/javascript" src="js/MedHealth.js"></script>
    <!-- fuentes -->
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>

    <style>
        #map {
            position: absolute;
            top: 30%;
            left: 50%;
            width: 660px;
            height: 450px;
        }
    </style>

</head>

<body>
    <div class="container">
        <div>
            <div class="NAVBAR">
                <div>
                    <a href="index2"><img src="/images/logo.png" class="picpref responsive-img"></a>

                    <hr>
                </div>

                <p class="textoNavBar">MEDHEALTH</p>

                <p id="date">Fecha:
                    <%=day%> /
                        <%=month%> /
                            <%=year%>
                </p>

                <div id="av" onclick="hideav()">
                    <img src="images/UserAv.png" width="75%" height="75%" onclick="hidename()">
                </div>

                <p id="avtxt">
                    <%= fullName %>
                </p>

                <div id="avconfdisp">
                    <img src="images/OK.png" width="80%" height="80%">
                    <div>
                        <p id="textconfdisp1">
                            <%= fullName %>
                        </p>

                        <p id="textconfdisp2">Estado:
                            <p id="textconfdisp3">
                                <%= status %>
                            </p>
                        </p>

                        <p id="textconfdisp5">
                            <%= mail %>
                        </p>

                        <a href="/edit">
                            <div id="editprofile">
                                <p id="edittxt">Editar Perfil</p>
                            </div>
                        </a>
                    </div>
                </div>


                <div id="location">
                    <img src="images/placeholder-filled-point.png" width="5%" height="5%">
                    <p id="loctext">Belgrano CABA</p>
                </div>

                <div>
                    <p id="textC2">
                        <%= medic %>
                    </p>
                </div>

                <a href="calendar">
                    <div id="calendar">
                        <p id="calendartxt">Mis Turnos</p>
                    </div>
                </a>
                <a href="/">
                    <div id="logout">
                        <p id="logouttxt">Cerrar Sesión</p>
                    </div>
                </a>

            </div>

            <div id="docinfo">

                <div>
                    <p id="nameappo">Dr.
                        <%= findDoctor[0].name %>
                            <%= findDoctor[0].lastName %>
                    </p>
                    <hr id="up1">
                </div>

                <div>
                    <p id="emailappo">
                        <%= findDoctor[0].email %>
                    </p>
                    <div id="imgemail"><img src="images/envelope.png" width="30px" height="30px"></div>
                </div>
                <hr id="up2">
                <div>
                    <p id="addressappo">
                        <%= findDoctor[0].address %>
                    </p>
                    <div id="imgaddress"><img src="images/address.png" width="30px" height="30px"></div>
                </div>
                <hr id="up3">
                <div>
                    <p id="phoneappo">
                        <%= findDoctor[0].phoneNumber %>
                    </p>
                    <div id="imgphone"><img src="images/phone.png" width="30px" height="30px"></div>
                </div>
                <hr id="up4">
                <div>
                    <p id="categoryappo">
                        <%= medic %>
                    </p>
                    <div id="imgcategory"><img src="images/stethoscope2.png" width="30px" height="30px"></div>
                </div>
                <hr id="up5">

                <div id="appobutton" onclick="appointmentForm()">
                    <p id="appobtntxt">Pedir un Turno</p>
                </div>
            </div>
            <div id="map"></div>
            <div id="thing"></div>
        </div>
    </div>

    <div id="appointmentForm" style="
	background-color: white;
	position: absolute;
	top: 30%;
	left: 35%;
	border-radius: 12px;
	height: 250px;
	width: 400px;
	box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.4);
	visibility: hidden;
	z-index: 3;
	">

<style>
    .select-style {
        position: absolute;
        top: 55%;
        left: 13%;
        border: 1px solid #ccc;
        width: 135px;
        border-radius: 4px;
        overflow: hidden;
        }
            
     .select-style select {
       padding: 5px 8px;
       width: 130%;
       border: none;
    background: white;
    background-image: none;
            }
            
            .select-style select:focus {
                outline: none;
            }
            
            .select-style2 {
                position: absolute;
                top: 55%;
                left: 43%;
                border: 1px solid #ccc;
                width: 50px;
                border-radius: 4px;
                overflow: hidden;
            }
            
            .select-style2 select {
                padding: 5px 8px;
                width: 130%;
                border: none;
                background: white;
                background-image: none;
            }
            
            .select-style2 select:focus {
                outline: none;
            }
            
            .select-style3 {
                position: absolute;
                top: 55%;
                left: 60%;
                border: 1px solid #ccc;
                width: 60px;
                border-radius: 4px;
                overflow: hidden;
            }
            
            .select-style3 select {
                padding: 5px 8px;
                width: 130%;
                border: none;
                background: white;
                background-image: none;
            }
            
            .select-style3 select:focus {
                outline: none;
            }
            
            .select-style4 {
                position: absolute;
                top: 55%;
                left: 55%;
                border: 1px solid #ccc;
                width: 135px;
                border-radius: 4px;
                overflow: hidden;
            }
            
            .select-style4 select {
                padding: 5px 8px;
                width: 130%;
                border: none;
                background: white;
                background-image: none;
            }
            
            .select-style4 select:focus {
                outline: none;
            }

            #appotitle {
                position: absolute;
                top: 2%;
                left: 40%;
                font-family: poppins;
                font-weight: 800;
                font-size: 22px;
                color: #000000;
            }
</style>

        <form action="" class="" method="POST">
                <div id="appotitle">Turno</div>
                <select class="select-style" data-style="btn-info" name="day">
                <optgroup label="Fecha">
                    <% for(var i = 0; fechasDelDia.length > i; i++) { %>
                    <option name="<%= fechasDelDia[i] %>" value="<%= fechasDelDia[i] %>"><%= fechasDelDia[i] %></option>
                    <% } %>
                </optgroup>
            </select>
                <select class="select-style4" data-style="btn-info" name="hora">
                    <optgroup label="Horario">
                        <% for(var i = 0; horasDisponibles.length > i; i++) { %>
                        <option name="<%= horasDisponibles[i] %>" value="<%= horasDisponibles[i] %>"><%= horasDisponibles[i] %></option>
                        <% } %>
                    </optgroup>
                </select>

            <div>
                <p id="descappo">Descripción:</p>
                <input style="width: 350px; height: 50px;" id="inputappo" type="userxtx" name="event" value='Turno con el Doctor <%= findDoctor[0].name %> <%= findDoctor[0].lastName %>' style="width:25%;">
            </div>

            <input type="submit" id="btnappo" value="Solicitar Turno">
        </form>
    </div>
    <script>
        function initMap() {
            var buenosAires = {
                lat: -34.603722,
                lng: -58.381592
            };
            var lati = parseFloat('<%= latitude %>')
            var long = parseFloat('<%= longitude %>')
            var doctorPos = {
                lat: lati,
                lng: long
            };
            var map = new google.maps.Map(
                document.getElementById('map'), {
                    zoom: 15,
                    //enter: buenosAires
                    center: doctorPos
                });
            var marker = new google.maps.Marker({
                position: doctorPos,
                map: map
            });
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpjRjHHM3RjDfl_amqyoBopIZXD4ewkGg&callback=initMap">
    </script>

    <script>
        function appointmentForm() {
            var x = document.getElementById('appointmentForm');
            if (x.style.visibility === 'hidden') {
                x.style.visibility = 'visible';
            } else {
                x.style.visibility = 'visible';
            }
        }

        function appointmentexit() {
            var x = document.getElementById('appointmentForm');
            if (x.style.visibility === 'visible') {
                x.style.visibility = 'hidden';
            } else {
                x.style.visibility = 'hidden';
            }
        }
    </script>
</body>

</html>